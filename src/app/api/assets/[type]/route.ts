import { NextResponse } from 'next/server'

// SVG content for each asset
const assets = {
  logo: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024">
    <defs>
      <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="0%">
        <stop offset="0%" style="stop-color:#0ea5e9"/>
        <stop offset="100%" style="stop-color:#2563eb"/>
      </linearGradient>
    </defs>
    <path fill="url(#logoGradient)" d="M256 256h512v128H384v128h384v128H384v128h384v128H256z"/>
  </svg>`,
  
  spotify: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path fill="#ffffff" d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.371-.721.49-1.101.24-3.021-1.851-6.812-2.271-11.282-1.241-.421.09-.842-.181-.931-.601-.09-.421.181-.842.601-.931 4.891-1.121 9.021-.63 12.452 1.441.371.24.49.721.24 1.101zm1.471-3.271c-.301.461-.932.621-1.402.311-3.452-2.131-8.713-2.741-12.804-1.501-.491.15-1.021-.13-1.171-.621-.15-.491.13-1.021.621-1.171 4.671-1.421 10.472-.721 14.473 1.771.461.301.621.932.311 1.402zm.129-3.401c-4.141-2.461-11.012-2.691-14.973-1.491-.601.18-1.231-.181-1.411-.781-.18-.601.181-1.231.781-1.411 4.561-1.381 12.132-1.111 16.893 1.721.571.331.761 1.081.421 1.651-.331.571-1.081.761-1.651.421z"/>
  </svg>`,
  
  soundcloud: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path fill="#ffffff" d="M1.175 12.225c-.051 0-.094.046-.101.1l-.233 2.154.233 2.105c.007.058.05.098.101.098.05 0 .09-.04.099-.098l.255-2.105-.27-2.154c0-.057-.045-.1-.09-.1m-.899.828c-.06 0-.091.037-.104.094L0 14.479l.165 1.308c0 .055.045.094.09.094s.089-.045.104-.104l.21-1.319-.21-1.334c0-.061-.044-.093-.09-.093m1.83-1.229c-.061 0-.12.045-.12.104l-.21 2.563.225 2.458c0 .06.045.12.119.12.061 0 .105-.061.121-.12l.254-2.474-.254-2.548c-.016-.06-.061-.12-.121-.12m.945-.089c-.075 0-.135.06-.15.135l-.193 2.64.21 2.544c.016.075.075.135.15.135.074 0 .135-.06.15-.135l.24-2.544-.24-2.64c-.015-.075-.075-.135-.15-.135l-.017-.013m1.019-.089c-.09 0-.149.075-.149.147l-.182 2.798.209 2.612c0 .074.06.149.15.149.09 0 .149-.075.149-.149l.209-2.612-.209-2.798c0-.089-.059-.147-.149-.147l-.028-.013m1.125-.029c-.09 0-.18.089-.18.18l-.165 2.789.165 2.595c.015.09.09.18.18.18.09 0 .149-.09.164-.18l.195-2.595-.195-2.789c-.016-.09-.09-.18-.18-.18l-.016-.016m1.245.045c-.099 0-.195.089-.195.195l-.15 2.729.15 2.563c0 .105.09.195.195.195.104 0 .194-.09.194-.195l.164-2.563-.164-2.729c-.016-.105-.09-.195-.195-.195m1.005-.029c-.104 0-.194.119-.194.209l-.15 2.729.15 2.533c.016.105.09.194.194.194.12 0 .194-.089.21-.194l.149-2.533-.149-2.729c-.016-.09-.105-.209-.21-.209m1.019-.015c-.12 0-.21.119-.21.209l-.134 2.734.134 2.504c0 .119.105.225.21.225.119 0 .209-.105.224-.225l.15-2.504-.15-2.734c-.015-.09-.104-.209-.224-.209m1.05-.015c-.119 0-.225.135-.225.224l-.12 2.734.119 2.504c0 .135.105.225.225.225.135 0 .224-.09.24-.225l.135-2.504-.135-2.734c-.016-.089-.105-.224-.24-.224m1.08-.029c-.137 0-.242.149-.242.239l-.105 2.764.105 2.489c.015.135.12.239.242.239.135 0 .24-.104.24-.239l.135-2.489-.135-2.764c0-.09-.105-.239-.24-.239m1.125-.045c-.135 0-.24.15-.24.255l-.106 2.744.105 2.489c0 .135.105.255.24.255.149 0 .255-.12.255-.255l.105-2.489-.105-2.744c0-.105-.106-.255-.255-.255m.255-.313c-.09.015-.166.016-.225.016-1.785 0-3.239 1.449-3.239 3.239 0 1.785 1.454 3.239 3.239 3.239 1.785 0 3.239-1.454 3.239-3.239 0-1.785-1.454-3.239-3.239-3.239m5.294-2.713c-.3 0-.54.243-.54.54 0 .296.24.54.54.54.296 0 .54-.244.54-.54-.015-.297-.244-.54-.54-.54M22.049 11.7c.296 0 .54-.244.54-.54 0-.297-.244-.54-.54-.54-.3 0-.54.243-.54.54 0 .296.24.54.54.54"/>
  </svg>`,
  
  x: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path fill="#ffffff" d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
  </svg>`
}

export async function GET(
  request: Request,
  { params }: { params: { type: keyof typeof assets } }
) {
  try {
    const svg = assets[params.type]
    if (!svg) {
      return new NextResponse('Asset not found', { status: 404 })
    }

    // Add width and height parameters
    const { searchParams } = new URL(request.url)
    const width = searchParams.get('width') || '48'
    const height = searchParams.get('height') || '48'

    // Add width and height attributes to the SVG
    const svgWithDimensions = svg.replace('<svg', `<svg width="${width}" height="${height}"`)

    return new NextResponse(svgWithDimensions, {
      headers: {
        'Content-Type': 'image/svg+xml',
        'Cache-Control': 'public, max-age=31536000, immutable'
      }
    })
  } catch (error) {
    console.error('Asset error:', error)
    return new NextResponse('Error serving asset', { status: 500 })
  }
} 